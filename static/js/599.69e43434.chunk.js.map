{"version":3,"file":"static/js/599.69e43434.chunk.js","mappings":"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","sources":["webpack://soc_net/./src/components/Common/Pogination/Pagination.module.css?6d75","components/Common/Pogination/Pagination.jsx","webpack://soc_net/./src/components/Users/Users.module.css?b9d0","components/Users/User.jsx","components/Users/Users.jsx","reducer/users-selectors.js","components/Users/UsersContainer.jsx","hoc/withAuthRedirectComponent.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"selectedPage\":\"Pagination_selectedPage__iIg7c\",\"paginationPrevies\":\"Pagination_paginationPrevies__emmQF\",\"paginationNext\":\"Pagination_paginationNext__s1vAZ\",\"pagination\":\"Pagination_pagination__a-E0c\"};","import React, {useState} from \"react\";\r\nimport style from './Pagination.module.css';\r\nimport { FiRewind, FiFastForward } from \"react-icons/fi\"\r\n\r\n\r\nconst Pagination = ({totalCountUsers, pageSize, currentPage, onPageChenge, portionSize = 10}) => {\r\n\r\n    let pageCount = Math.ceil(totalCountUsers / pageSize);\r\n\r\n        let pages = [];\r\n\r\n        for(let i=1; i <= pageCount; i++) {\r\n            pages.push(i);\r\n        }\r\n\r\n    let portionCount = Math.ceil(pageCount / portionSize)    \r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={style.pagination}>\r\n            {portionNumber > 1 && <FiRewind className={style.paginationPrevies} onClick={() => {setPortionNumber(portionNumber - 1)}} />}\r\n            \r\n            {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n                return <span className={currentPage === p && style.selectedPage}\r\n                    onClick={(e) => { onPageChenge(p) }}>-{p}-</span>\r\n            })}\r\n\r\n            {portionCount > portionNumber && <FiFastForward className={style.paginationNext} onClick={() => {setPortionNumber(portionNumber + 1)}} />}\r\n        </div>\r\n            \r\n    )\r\n}\r\n\r\nexport default Pagination","// extracted by mini-css-extract-plugin\nexport default {\"users\":\"Users_users__WebZj\",\"imgName\":\"Users_imgName__R1DcA\",\"location\":\"Users_location__ZcQA9\",\"but\":\"Users_but__5zmD6\",\"status\":\"Users_status__ONAZ9\"};","import React from \"react\";\r\nimport style from './Users.module.css';\r\nimport userPhoto from '../../img/avatar.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({follow, unfollow, followingInProgress, users}) => {\r\n    return (\r\n        <div>\r\n            {users.map(u => <div className={style.users} key={u.id}>\r\n                <NavLink to={'/profile/' + u.id}>\r\n                    <div className={style.imgName}>\r\n                        <img src={u.photos.small != null ? u.photos.small : userPhoto} alt=\"img\" />\r\n                        <h3>{u.name}</h3>\r\n                    </div>\r\n                </NavLink>\r\n                <div className={style.location}>\r\n                    <div>{u.lookingForAJobDescription}</div>\r\n                    <div>{'u.location.city'}</div>\r\n                </div>\r\n                <div className={style.but}>{u.followed \r\n\r\n                ? <button disabled={followingInProgress.some(id => id === u.id)} \r\n                onClick={() => { unfollow(u.id) }}>Unfollow</button> \r\n\r\n                : <button disabled={followingInProgress.some(id => id === u.id)} \r\n                onClick={() => { follow(u.id) }}>Follow</button>}\r\n\r\n                </div>\r\n                <h4 className={style.status}>\r\n                    {u.status}\r\n                </h4>\r\n            </div>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User","import React from \"react\";\r\nimport Pagination from \"../Common/Pogination/Pagination.jsx\";\r\nimport User from \"./User.jsx\";\r\n\r\nconst Users = ({currentPage, onPageChenge, totalCountUsers, pageSize, follow, unfollow, followingInProgress, users}) => {\r\n    return (\r\n        <div>\r\n               \r\n            <User follow={follow} unfollow={unfollow} followingInProgress={followingInProgress} users={users} />\r\n            <Pagination currentPage={currentPage} onPageChenge={onPageChenge} totalCountUsers={totalCountUsers} pageSize={pageSize} />\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","import {createSelector} from 'reselect';\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.UsersPage.users      \r\n}\r\n\r\nexport const getUsers =  createSelector(getUsersSelector, (user) => {\r\n    return user.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.UsersPage.pageSize      \r\n}\r\n\r\nexport const getTotalCountUsers = (state) => {\r\n    return state.UsersPage.totalCountUsers       \r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.UsersPage.currentPage       \r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.UsersPage.isFetching       \r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.UsersPage.followingInProgress       \r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, setCurrentPage, \r\n    setUsers, unfollow, toggelFollowingProgress, selectorUsers } from \"../../reducer/users-reduser\";\r\nimport Users from './Users.jsx';\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport withAuthRedirectComponent from \"../../hoc/withAuthRedirectComponent\";\r\nimport { compose } from \"redux\";\r\nimport {getUsers, getPageSize, getTotalCountUsers, getCurrentPage, getIsFetching, getFollowingInProgress} from \"../../reducer/users-selectors.js\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount(){\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n\r\n        //Использование thunk позволило перенести этот код в user-reduser\r\n        // this.props.toggelIsFetching(true)\r\n        // userAPI.getUser(this.props.currentPage, this.props.pageSize).then(data => {\r\n        // this.props.toggelIsFetching(false)\r\n        //     this.props.setUsers(data.items);\r\n        //     this.props.setTotalUsersCount(data.totalCount);\r\n        // });\r\n    }\r\n\r\n    onPageChenge = (p) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(p, pageSize)\r\n\r\n        //Использование thunk позволило перенести этот код в user-reduser\r\n        // this.props.setCurrentPage(p);\r\n        // this.props.toggelIsFetching(true)\r\n        // userAPI.getUser(p, this.props.pageSize).then(data => {\r\n        //     this.props.toggelIsFetching(false)\r\n        //     this.props.setUsers(data.items);\r\n        // });\r\n    }\r\n\r\n\r\n    render() {\r\n        return (<>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users totalCountUsers={this.props.totalCountUsers}\r\n                        pageSize={this.props.pageSize}\r\n                        currentPage={this.props.currentPage}\r\n                        onPageChenge={this.onPageChenge}\r\n                        users={this.props.users}\r\n                        unfollow={this.props.unfollow}\r\n                        follow={this.props.follow}\r\n                        followingInProgress={this.props.followingInProgress}\r\n            />\r\n            </>)\r\n    }\r\n        \r\n    \r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalCountUsers: getTotalCountUsers(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n\r\n    }\r\n}\r\n// Вместо сложного mapDispachToProps записали сразу в connect\r\n// let mapDispachToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userID) => {\r\n//             dispatch(followAC(userID))\r\n//         },\r\n//         unfollow: (userID) => {\r\n//             dispatch(unfollowAC(userID))\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users))\r\n//         },\r\n//         setCurrentPage: (pageNumber) => {\r\n//             dispatch(setCurrentPageAC(pageNumber))\r\n//         },\r\n//         setTotalUsersCount: (totalCount) => {\r\n//             dispatch(setTotalUsersCountAC(totalCount))\r\n//         },\r\n//         toggelIsFetchingAC: (isFetching) => {\r\n//             dispatch(toggelIsFetchingAC(isFetching))\r\n//         }\r\n//     }\r\n// }\r\n\r\nexport default compose (\r\n    withAuthRedirectComponent,\r\n    connect(mapStateToProps, \r\n        {\r\n            follow,\r\n            unfollow,\r\n            setUsers,\r\n            setCurrentPage,\r\n            toggelFollowingProgress, \r\n            getUsers: selectorUsers\r\n        })\r\n) (UsersContainer)\r\n    ","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\n//вытащил из sate состояние аутентификации(залогинен или нет пользователь)\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n      isAuth: state.auth.isAuth\r\n    }\r\n  }\r\n//компонент оборачивает другие компоненты и редиректит их\r\nexport const withAuthRedirectComponent = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to={'/login'} />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    //компаненту для редиректа обернули еще раз, что бы она пришла уже с состоянием\r\n    let ConnectAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent)\r\n\r\n    return ConnectAuthRedirectComponent\r\n      \r\n}\r\n\r\nexport default withAuthRedirectComponent\r\n\r\n"],"names":["totalCountUsers","pageSize","currentPage","onPageChenge","portionSize","pageCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","style","onClick","filter","p","map","e","follow","unfollow","followingInProgress","users","u","to","id","src","photos","small","userPhoto","alt","name","lookingForAJobDescription","followed","disabled","some","status","getUsers","createSelector","state","UsersPage","user","getPageSize","getTotalCountUsers","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","props","this","Preloader","React","compose","withAuthRedirectComponent","connect","setUsers","setCurrentPage","toggelFollowingProgress","selectorUsers","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent"],"sourceRoot":""}